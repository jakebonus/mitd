$(function(){$("#frm_profile").formValidation({framework:"bootstrap",button:{selector:"#btn_profile",disabled:"disabled"},icon:null,fields:{password:{validators:{notEmpty:{message:"The password is required"},stringLength:{min:6,max:30},regexp:{regexp:/^[a-zA-Z0-9]+$/}}},password2:{validators:{identical:{field:"password",message:"The password and its confirm are not the same"}}}}}).on("success.form.fv",function(d){d.preventDefault();var b=$(d.target),c=b.data("formValidation");$.ajax({dataType:"json",type:"post",url:base_url+"account/update_password",data:$("#frm_profile").serialize()+"&isSubmit="+1,beforeSend:function(){a("Processing","Please wait..","info");$("#btn_profile").attr("disabled","disabled")},success:function(e){if(e.status=="yes"){$("#btn_profile").removeAttr("disabled");$("#frm_profile")[0].reset();a("Success!",e.content,"success")}else{$("#btn_profile").removeAttr("disabled");$("#frm_profile")[0].reset();a("Failed!",e.content,"")}$("#frm_profile").data("formValidation").resetForm()},error:function(f,e){$("#btn_profile").removeAttr("disabled");$("#frm_profile")[0].reset();a("Error!","Connection problems occurred... Unable to connect to the Internet! The Internet connection has been lost.","error")}})});function a(d,c,b){new PNotify({title:d,text:c,styling:"bootstrap3",type:b,delay:2000})}});